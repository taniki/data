{
  "hash": "7b8dc2612d3a3c8fecdb162a2c9c1e4d",
  "result": {
    "markdown": "::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\n```\n:::\n\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\ntweets = (\n    pd\n    .read_parquet('datasets/tweets.par')\n)\n\ntweets\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>local_time</th>\n      <th>timestamp_utc</th>\n      <th>text</th>\n      <th>url</th>\n      <th>quoted_id</th>\n      <th>quoted_user</th>\n      <th>quoted_user_id</th>\n      <th>quoted_timestamp_utc</th>\n      <th>retweeted_id</th>\n      <th>retweeted_user</th>\n      <th>...</th>\n      <th>user_lists</th>\n      <th>user_image</th>\n      <th>user_url</th>\n      <th>user_timestamp_utc</th>\n      <th>source_url</th>\n      <th>source_name</th>\n      <th>place_country_code</th>\n      <th>place_name</th>\n      <th>place_type</th>\n      <th>place_coordinates</th>\n    </tr>\n    <tr>\n      <th>id</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1581205390989328384</th>\n      <td>2022-10-15 08:48:37</td>\n      <td>1665823717</td>\n      <td>Guerre en Ukraine : face aux missiles et drone...</td>\n      <td>https://twitter.com/lemondefr/status/158120539...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>38064</td>\n      <td>https://pbs.twimg.com/profile_images/817042499...</td>\n      <td>https://www.lemonde.fr</td>\n      <td>1237229091</td>\n      <td>https://www.echobox.com</td>\n      <td>Echobox</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1581200544063815685</th>\n      <td>2022-10-15 08:29:21</td>\n      <td>1665822561</td>\n      <td>« Une explosion de l’offre végétale » : à Pari...</td>\n      <td>https://twitter.com/lemondefr/status/158120054...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>38064</td>\n      <td>https://pbs.twimg.com/profile_images/817042499...</td>\n      <td>https://www.lemonde.fr</td>\n      <td>1237229091</td>\n      <td>https://www.echobox.com</td>\n      <td>Echobox</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1581193983883350016</th>\n      <td>2022-10-15 08:03:17</td>\n      <td>1665820997</td>\n      <td>Berlin rallie quatorze pays de l’OTAN à l’acha...</td>\n      <td>https://twitter.com/lemondefr/status/158119398...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>38064</td>\n      <td>https://pbs.twimg.com/profile_images/817042499...</td>\n      <td>https://www.lemonde.fr</td>\n      <td>1237229091</td>\n      <td>https://www.echobox.com</td>\n      <td>Echobox</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1581188435922292736</th>\n      <td>2022-10-15 07:41:14</td>\n      <td>1665819674</td>\n      <td>Au lycée Joliot-Curie de Nanterre, les raisons...</td>\n      <td>https://twitter.com/lemondefr/status/158118843...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>38064</td>\n      <td>https://pbs.twimg.com/profile_images/817042499...</td>\n      <td>https://www.lemonde.fr</td>\n      <td>1237229091</td>\n      <td>https://www.echobox.com</td>\n      <td>Echobox</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1581184025351180289</th>\n      <td>2022-10-15 07:23:43</td>\n      <td>1665818623</td>\n      <td>« L’inflation nous touche très durement » : à ...</td>\n      <td>https://twitter.com/lemondefr/status/158118402...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>38064</td>\n      <td>https://pbs.twimg.com/profile_images/817042499...</td>\n      <td>https://www.lemonde.fr</td>\n      <td>1237229091</td>\n      <td>http://www.lemonde.fr/</td>\n      <td>Alerte_Huit_lemonde</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1478439663148883979</th>\n      <td>2022-01-04 18:54:18</td>\n      <td>1641322458</td>\n      <td>Synchonisée, avec ou sans masque, la «morning ...</td>\n      <td>https://twitter.com/Loopsidernews/status/14784...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>615</td>\n      <td>https://pbs.twimg.com/profile_images/114603706...</td>\n      <td>http://www.loopsider.com</td>\n      <td>1508318921</td>\n      <td>https://studio.twitter.com</td>\n      <td>Twitter Media Studio</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1478319492941897732</th>\n      <td>2022-01-04 10:56:47</td>\n      <td>1641293807</td>\n      <td>«Ma liberté, c'est 30 cm de câble et 3 kg de m...</td>\n      <td>https://twitter.com/Loopsidernews/status/14783...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>615</td>\n      <td>https://pbs.twimg.com/profile_images/114603706...</td>\n      <td>http://www.loopsider.com</td>\n      <td>1508318921</td>\n      <td>https://studio.twitter.com</td>\n      <td>Twitter Media Studio</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1478054266514427906</th>\n      <td>2022-01-03 17:22:52</td>\n      <td>1641230572</td>\n      <td>C'est l'agent des jumeaux qui l'a annoncé. Igo...</td>\n      <td>https://twitter.com/Loopsidernews/status/14780...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>615</td>\n      <td>https://pbs.twimg.com/profile_images/114603706...</td>\n      <td>http://www.loopsider.com</td>\n      <td>1508318921</td>\n      <td>https://mobile.twitter.com</td>\n      <td>Twitter Web App</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1478053998452260864</th>\n      <td>2022-01-03 17:21:48</td>\n      <td>1641230508</td>\n      <td>Igor Bogdanoff 29 août 1949 - 3 janvier 2022 h...</td>\n      <td>https://twitter.com/Loopsidernews/status/14780...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>615</td>\n      <td>https://pbs.twimg.com/profile_images/114603706...</td>\n      <td>http://www.loopsider.com</td>\n      <td>1508318921</td>\n      <td>https://studio.twitter.com</td>\n      <td>Twitter Media Studio</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1477954476564701186</th>\n      <td>2022-01-03 10:46:20</td>\n      <td>1641206780</td>\n      <td>Ils ont passé leur vie à chasser des nazis. Au...</td>\n      <td>https://twitter.com/Loopsidernews/status/14779...</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>NaN</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...</td>\n      <td>615</td>\n      <td>https://pbs.twimg.com/profile_images/114603706...</td>\n      <td>http://www.loopsider.com</td>\n      <td>1508318921</td>\n      <td>https://studio.twitter.com</td>\n      <td>Twitter Media Studio</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n  </tbody>\n</table>\n<p>49805 rows × 55 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nfig, ax = plt.subplots()\n\n# colors = {\n#     'lemondefr': 'black',\n#     'Mediapart': 'red',\n#     'MediapartBlogs': 'green'\n# }\n\nfig.set_size_inches(15, 10)\n\nfor account in list(tweets.user_screen_name.cat.categories):\n    \n    df = (\n        tweets\n        .query('user_screen_name == @account')\n        .assign(\n            local_time=lambda d: pd.to_datetime(d.local_time)\n        )\n    )\n    \n    plt.scatter(\n        x=df.local_time.dt.date,\n        y=df.local_time.dt.hour*60+df.local_time.dt.minute,\n        s=df.retweet_count,\n        alpha=0.3,\n        # color=colors[account]\n    )\n    \nax.set_ylim(0, 24*60)\n    \n\nplt.tight_layout()\nplt.savefig('graphics/timeline-raw.png');\n```\n\n::: {.cell-output .cell-output-display}\n![](cook_noise_files/figure-html/cell-4-output-1.png){}\n:::\n:::\n\n\n",
    "supporting": [
      "cook_noise_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}